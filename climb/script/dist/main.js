import{BG_tile_imgs,DrawTile,clearScreen}from"./render.js";import{Map}from"./map.js";import{Player}from"./player.js";const player=new Player,camera={x:0,y:0},map=new Map;function drawMap(e,r,a=0,o=0){for(const[t,i]of Object.entries(r)){const r=parseInt(t,16);if(!(r>12))for(let t=e.x-7;t<=e.x+7;t++){const e=i[t];if("number"==typeof e)DrawTile(BG_tile_imgs[e],t+a,r+o);else if(null!==e&&"object"==typeof e){const i=e.id,n=e.xflip,m=e.yflip;if("number"!=typeof i)continue;DrawTile(BG_tile_imgs[i],t+a,r+o,n,m)}}}}function gameLoop(){clearScreen(),drawMap(camera,map.data),player.CharacterDraw(),requestAnimationFrame(gameLoop)}requestAnimationFrame(gameLoop);