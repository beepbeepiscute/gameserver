import{BG_tile_imgs,DrawTile,clearScreen,Char_tile_imgs}from"./render.js";import{Map}from"./map.js";import{Player}from"./player.js";const player=new Player,camera={x:0,y:0},map=new Map;function drawMap(e,r,a=0,o=0){for(const[i,t]of Object.entries(r)){const r=parseInt(i,16);if(!(r>12))for(let i=e.x-7;i<=e.x+7;i++){const e=t[i];if("number"==typeof e)DrawTile(BG_tile_imgs[e],i+a,r+o);else if(null!==e&&"object"==typeof e){const t=e.id,n=e.xflip,m=e.yflip;if("number"!=typeof t)continue;DrawTile(BG_tile_imgs[t],i+a,r+o,n,m)}}}}function gameLoop(){clearScreen(),drawMap(camera,map.data),console.log(Char_tile_imgs),player.CharacterDraw(),requestAnimationFrame(gameLoop)}requestAnimationFrame(gameLoop);