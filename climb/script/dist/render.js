const canvas=document.getElementById("screen"),ctx=canvas.getContext("2d");ctx.imageSmoothingEnabled=!1;export const SCREEN_SIZE_X=15;export const SCREEN_SIZE_Y=12;export const TILE_SIZE=22;export function GetTilePos(t,e){const a=canvas.width/15,n=canvas.height/12;return{x:Math.floor(7*a)+t*a,y:e*n,w:a,h:n}}export const BG_tile_imgs={isLoaded:!1};export const Char_tile_imgs={isLoaded:[!1]};const BGimg=new Image;BGimg.src="./Assets/Image/BG.png";const Charimg_cup=new Image;function createTile(t,e,a,n,o,c=1){const i=document.createElement("canvas");i.width=Math.round(n*c),i.height=Math.round(o*c);const r=i.getContext("2d");return r.imageSmoothingEnabled=!1,r.drawImage(t,Math.round(e),Math.round(a),Math.round(n),Math.round(o),0,0,i.width,i.height),i}function OnImageLoad(t,e,a,n,o=0){let c=o;for(let o=0;o<n;o++)for(let n=0;n<a;n++)e[c++]=createTile(t,22*n,22*o,22,22)}Charimg_cup.src="./Assets/Image/cuptain.png",BGimg.onload=()=>{OnImageLoad(BGimg,BG_tile_imgs,24,25),BG_tile_imgs.isLoaded=!0},Charimg_cup.onload=()=>{OnImageLoad(Charimg_cup,Char_tile_imgs,8,2),Char_tile_imgs.isLoaded[0]=!0};export function clearScreen(){ctx.clearRect(0,0,canvas.width,canvas.height)}export function DrawTile(t,e,a,n=!1,o=!1){if(!t)return;const c=GetTilePos(e,a);ctx.save(),ctx.translate(c.x+c.w/2,c.y+c.h/2),ctx.scale(n?-1:1,o?-1:1),ctx.imageSmoothingEnabled=!1,ctx.drawImage(t,-c.w/2,-c.h/2,c.w,c.h),ctx.restore()}